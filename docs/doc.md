---
title: "Документация"
---

### Введение:

Jaba - это функциональный язык программирования, интерпретатор для которого написан на языке F#.

Реализованы следующие функции языка:

* [x] Именованные переменные (`let`)
* [x] Рекурсия
* [x] Ленивое вычисление
* [x] Функции
* [x] Замыкания
* [x] Библиотечные функции: ввод-вывод файлов
* [ ] Списки / Последовательности
* [ ] Библиотечные функции: списки/последовательности

Программы на Jaba состоят из списков, заключенных в круглые скобки, где каждый элемент списка может быть либо атомом (например, числом, символом или строкой), либо другим списком.

Начинающий Jaba разработчик до прочтения jabadoc
![alt_text](./img/frog9.jpeg)

### Первая программа
Создадим в корне проекта файл "program.kwuh" и напишем программу:
```jaba
(jout "Hello world!")
```

Запустим программу:
```bash
dotnet run program.kwuh
```
Вывод:
```
Provided code: (jout "Hello, World!")
"Hello, World!"
Processed: SIMPLE ""
```

### Переменные, комментарии, стандартный вывод
Объявление переменной осуществляется через оператор `kva` (**k**ey-**va**lue):
```jaba
(kva my_variable "my value")
```
Здесь:
- `my_variable` - название переменной, строка без пробелов;
- `"my value"` - значение переменной, может быть либо атомом, либо другим списком (выражением).

Чтобы присвоить переменной другое значение, используется оператор `put`:
```jaba
(put my_variable "another value")
```

Для комментирования кода есть конструкции `$...$`:
```jaba
(kva x 1) $ Объявим переменную x и свяжем с ней значение 1 $
(put x (+ 2 2)) $ Вычислим 2+2 и присвоим результат переменной x $
```
Всё, что находится внутри конструкции, компилятором игнорируется.

Чтобы вывести значение в консоль, используется функция `jout` (**J**aba **out**):
```jaba
(jout my_variable)
```
где `my_variable` - атом или выражение. 

### Типы данных
В языке Jaba данные могут иметь следующие типы:
- **string** - строка (например "Hello, World")
- **number** - число с плавающей запятой (например 10, -2, 1.55)
- **bool** - булево значение (`true` или `false`)

При этом есть неявное преобразование типов из **number** в **bool** (0 -> `false`, другое любое число -> `true`).


### Арифметические и логические операции, операции сравнения
Все выражения с арифметическими, логическими операциями и операциями сравнения являются префиксными.
При этом арифметические и логические операции являются многоместными, т.е. могут применяться к более чем двум операндам, производя операции над ними последовательно.
Операнды могут быть атомами или выражениями.

Поддерживаются следующие арифметические операции:
- `+` (сложение): `(+ 2 2)`
- `-` (разность): `(- 4 2)`
- `*` (произведение): `(* 1 2)`
- `/` (деление): `(/ 4 2)`

Арифметические операции работают только с операндами типа **number**.

Поддерживаются следующие логические операции:
- `&` (логическое И): `(& true false)`
- `|` (логическое ИЛИ): `(| true false)`

Логические операции работают только с операндами типа **bool**.

Поддерживаются следующие операции сравнения:
- `<` (меньше): `(< 5 10)`
- `>` (больше): `(> 10 5)`
- `=` (равенство): `(= "boba" "boba")`

Операции `<` и `>` работают только с операндами типа **number**.
Операция `=` работает с операндами любых типов, но оба операнда должны быть одного типа.

![alt_text](./img/frog10.jpeg)

### Условные выражения
Условное выражение позволяет выполнять действие в зависимости от выполнения условия. Конструкция выглядит следующим образом:
```jaba
(if condition then expression1 else expression2)
```
Здесь 
- `condition` - выражение (или атом), возвращающее тип **bool**.
- `expression1` - выражение, которое нужно выполнить или значение, которое нужно вернуть, если `condition` выполняется (имеет значение `true`).
- `expression2` - выражение, которое нужно выполнить или значение, которое нужно вернуть, если `condition` не выполняется (имеет значение `false`).

Например:
```jaba
(kva x 10)
(if (> x 5) then (jout "x больше 5") else (jout "x меньше 5")) $ Выведет "x больше 5" $
```

При этом часть `else expression2` можно опустить, например:
```jaba
(kva x 10)
(if (> x 5) then (jout "x больше 5")) $ Выведет "x больше 5" $
```

### Функции
Создание функции производится с помощью ключевого слова `frog` (**f**unction **ro**utine **g**enerator) и следующей конструкции:
```jaba
(frog function_name {arg1 arg2 ...} (expression))
```
Здесь:
- `function_name` - название функции, строка без пробелов;
- `{arg1 arg2 ...}` - список аргументов, может быть пустым;
- `expression` - тело функции.

Вызов функции будет иметь следующий синтаксис: 
```jaba
(function_name arg1 arg2 ...)
```

Например:
```jaba
(frog sum {arg1 arg2}
    (+ arg1 arg2)
)
(sum 1 2) $ Вернёт 3 $
```

Функции также могут быть рекурсивными.
Например, напишем функцию факториала:
```jaba
(frog fact {n}
    (if (< n 2)
        then 1
        else (* n (fact (- n 1)))
    )
)
(jout (fact 5)) $ выведет 120 $
```

### Работа с файлами
Для работы с файлами существуют функции `readFile` и `writeFile`.

Функция `readFile` позволяет читать строку из файла и имеет следующий синтаксис:
```jaba
(readFile filename)
```
Например:
```jaba
(jout (readFile "samples/example.txt"))
```

Функция `writeFile` позволяет записывать строку в файл:
```jaba
(writeFile filename data)
```
Например:
```jaba
(writeFile "samples/output.txt" "Test data is written!")
```

![alt_text](./img/frog3.png)

[На главную]({{site.baseurl}})